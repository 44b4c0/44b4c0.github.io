---
title: "XChat рЃЊрЃћрЃЋрЃћрЃџрЃЮрЃърЃЏрЃћрЃюрЃбрЃў Part #4"
date: 2024-09-15 14:35:00 +0400
categories: [Programming]
tags: [Coding]
---

##  рЃЎрЃџрЃўрЃћрЃюрЃбрЃўрЃА рЃЏрЃ«рЃљрЃарЃћрЃА рЃърЃљрЃарЃљрЃЏрЃћрЃбрЃарЃћрЃЉрЃЌрЃљрЃю рЃЏрЃБрЃерЃљрЃЮрЃЉрЃљ

рЃЊрЃдрЃћрЃА рЃЎрЃџрЃўрЃћрЃюрЃбрЃўрЃА рЃЏрЃ«рЃљрЃарЃћрЃАрЃљрЃф рЃБрЃюрЃЊрЃљ рЃЏрЃўрЃЋрЃ«рЃћрЃЊрЃЮ. рЃАрЃљрЃћрЃарЃЌрЃЮрЃЊ рЃљрЃа рЃЊрЃљрЃЏрЃўрЃгрЃћрЃарЃўрЃљ рЃљрЃарЃљрЃцрЃћрЃарЃў рЃЊрЃљ рЃЊрЃарЃЮрЃљ рЃарЃљрЃдрЃљрЃф рЃџрЃЮрЃњрЃўрЃЎрЃљ рЃЏрЃљрЃўрЃюрЃф рЃљрЃЋрЃБрЃДрЃгрЃЮ рЃЎрЃџрЃўрЃћрЃюрЃбрЃўрЃА рЃЏрЃ«рЃљрЃарЃћрЃА.

рЃЎрЃџрЃўрЃћрЃюрЃбрЃўрЃА рЃЏрЃ«рЃљрЃарЃћ рЃерЃћрЃЏрЃЊрЃћрЃњрЃюрЃљрЃўрЃарЃљрЃЊ рЃўрЃЏрЃБрЃерЃљрЃЋрЃћрЃЉрЃА: `рЃЌрЃљрЃЋрЃЊрЃљрЃърЃўрЃарЃЋрЃћрЃџрЃљрЃЊ рЃЏрЃЌрЃљрЃЋрЃљрЃарЃў рЃгрЃарЃћрЃЊрЃў рЃўрЃЦрЃюрЃћрЃЉрЃљ, рЃерЃћрЃЏрЃЊрЃћрЃњ рЃЎрЃў рЃЎрЃЮрЃЊрЃўрЃА рЃюрЃљрЃЎрЃљрЃЊрЃў рЃЮрЃа рЃгрЃарЃћрЃЊрЃљрЃЊ рЃњрЃљрЃўрЃДрЃЮрЃцрЃљ: рЃћрЃарЃЌрЃў рЃАрЃћрЃарЃЋрЃћрЃарЃўрЃЊрЃљрЃю рЃЏрЃўрЃўрЃдрЃћрЃЉрЃА рЃўрЃюрЃцрЃЮрЃарЃЏрЃљрЃфрЃўрЃљрЃА(рЃЏрЃћрЃАрЃўрЃ»рЃћрЃЉрЃА), рЃ«рЃЮрЃџрЃЮ рЃЏрЃћрЃЮрЃарЃћ рЃърЃўрЃарЃўрЃЦрЃўрЃЌ, рЃАрЃћрЃарЃЋрЃћрЃарЃА рЃњрЃљрЃБрЃњрЃќрЃљрЃЋрЃюрЃўрЃА рЃўрЃюрЃцрЃЮрЃарЃЏрЃљрЃфрЃўрЃљрЃА.`.

рЃърЃўрЃарЃЋрЃћрЃџ рЃарЃўрЃњрЃерЃў, `client.hpp` рЃцрЃљрЃўрЃџрЃерЃў рЃБрЃюрЃЊрЃљ рЃњрЃљрЃЋрЃљрЃЎрЃћрЃЌрЃЮ `Log(char* message, unsigned int verbose_level)` рЃцрЃБрЃюрЃЦрЃфрЃўрЃљ, рЃарЃЮрЃЏрЃћрЃџрЃАрЃљрЃф рЃќрЃБрЃАрЃбрЃљрЃЊ рЃўрЃњрЃўрЃЋрЃћ рЃџрЃЮрЃњрЃўрЃЎрЃљ рЃћрЃЦрЃюрЃћрЃЉрЃљ, рЃарЃљрЃф рЃАрЃћрЃарЃЋрЃћрЃарЃўрЃА `Log()` рЃцрЃБрЃюрЃЦрЃфрЃўрЃљрЃА. рЃћрЃарЃЌрЃљрЃЊрЃћрЃарЃЌрЃў рЃњрЃљрЃюрЃАрЃ«рЃЋрЃљрЃЋрЃћрЃЉрЃљ рЃљрЃЦ рЃўрЃА рЃўрЃЦрЃюрЃћрЃЉрЃљ, рЃарЃЮрЃЏ рЃЎрЃџрЃўрЃћрЃюрЃбрЃўрЃА рЃцрЃБрЃюрЃЦрЃфрЃўрЃљрЃА рЃљрЃа рЃћрЃЦрЃюрЃћрЃЉрЃљ `bool is_initial` рЃърЃљрЃарЃљрЃЏрЃћрЃбрЃарЃў, рЃарЃљрЃЊрЃњрЃљрЃю рЃЎрЃџрЃўрЃћрЃюрЃбрЃў, рЃАрЃћрЃарЃЋрЃћрЃарЃўрЃАрЃњрЃљрЃю рЃњрЃљрЃюрЃАрЃ«рЃЋрЃљрЃЋрЃћрЃЉрЃўрЃЌ, рЃљрЃа рЃўрЃюрЃўрЃфрЃўрЃљрЃџрЃўрЃќрЃЊрЃћрЃЉрЃљ.

рЃљрЃАрЃћ, рЃарЃЮрЃЏ рЃљрЃЏ рЃћрЃбрЃљрЃърЃќрЃћ `client.hpp` рЃцрЃљрЃўрЃџрЃў рЃљрЃАрЃћрЃЌрЃў рЃўрЃЦрЃюрЃћрЃЉрЃљ:
```cpp
#include <fstream>
#include <cstring>

#include <time.h>

#define LOG_FILE_PATH "logs/client.log"

#define CLIENT_USAGE "[USAGE]: "

#define CLIENT_INFO "[INFO]: "
#define CLIENT_WARNING "[WARNING]: "
#define CLIENT_ERROR "[ERROR]: "

#define LOG_MESSAGE_BUFFER_SIZE 8096
#define NUGGET_MESSAGE_BUFFER_SIZE 512

int Log(char* message, unsigned int verbose_level){
    std::ofstream file(LOG_FILE_PATH, std::ios::app);

    char log_message_buffer[LOG_MESSAGE_BUFFER_SIZE];

    time_t current_time;
    struct tm *time_info;
    char time_buffer[NUGGET_MESSAGE_BUFFER_SIZE];

    time(&current_time);
    time_info = localtime(&current_time);
    strftime(time_buffer, std::strlen(time_buffer), "%Y-%m-%d %H:%M:%S", time_info);

    if(verbose_level == 0){
        sprintf(log_message_buffer, "[%s] %s%s\n", time_buffer, CLIENT_INFO, message);
    }
    else if(verbose_level == 1){
        sprintf(log_message_buffer, "[%s] %s%s\n", time_buffer, CLIENT_WARNING, message);
    }
    else if(verbose_level == 2){
        sprintf(log_message_buffer, "[%s] %s%s\n", time_buffer, CLIENT_ERROR, message);
    }

    file.write(log_message_buffer, std::strlen(log_message_buffer));
    file.close();

    return 0;
}
```

рЃерЃћрЃЏрЃЊрЃћрЃњ, рЃАрЃљрЃГрЃўрЃарЃЮрЃљ `client.cpp`-рЃерЃў рЃџрЃЮрЃњрЃўрЃЎрЃўрЃА рЃљрЃгрЃДрЃЮрЃЉрЃљ. рЃЏрЃљрЃњрЃљрЃџрЃўрЃЌрЃљрЃЊ, рЃърЃарЃЮрЃњрЃарЃљрЃЏрЃўрЃА рЃњрЃљрЃЏрЃЮрЃДрЃћрЃюрЃћрЃЉрЃљ рЃљрЃАрЃћ рЃБрЃюрЃЊрЃљ рЃ«рЃЊрЃћрЃЉрЃЮрЃЊрЃћрЃА:

	./client 192.168.200.100 8080 44b4c0

рЃљрЃЏ рЃерЃћрЃЏрЃЌрЃ«рЃЋрЃћрЃЋрЃљрЃерЃў, `./client` рЃљрЃарЃўрЃА рЃарЃўрЃфрЃ«рЃЋрЃЮрЃЉрЃарЃўрЃЋрЃљрЃЊ рЃЏрЃћ-0 рЃърЃљрЃарЃљрЃЏрЃћрЃбрЃарЃў, `192.168.200.100` 1-рЃћрЃџрЃў рЃЊрЃљ рЃљ.рЃе. .

> **­ЪЊЮ рЃАрЃљрЃўрЃюрЃбрЃћрЃарЃћрЃАрЃЮ рЃцрЃљрЃЦрЃбрЃў:**  
> рЃЎрЃЮрЃЏрЃърЃўрЃБрЃбрЃћрЃарЃћрЃЉрЃў рЃљрЃЌрЃЋрЃџрЃљрЃА 0-рЃЊрЃљрЃю рЃўрЃгрЃДрЃћрЃЉрЃћрЃю. рЃћрЃА рЃўрЃЏрЃўрЃбрЃЮрЃЏ, рЃарЃЮрЃЏ рЃўрЃАрЃўрЃюрЃў рЃЉрЃўрЃюрЃљрЃарЃБрЃџ рЃЌрЃЋрЃџрЃўрЃА рЃАрЃўрЃАрЃбрЃћрЃЏрЃљрЃерЃў рЃЏрЃБрЃерЃљрЃЮрЃЉрЃћрЃю рЃЊрЃљ рЃЏрЃћрЃ«рЃАрЃўрЃћрЃарЃћрЃЉрЃўрЃА рЃЊрЃљрЃќрЃЮрЃњрЃЋрЃўрЃА рЃЏрЃўрЃќрЃюрЃўрЃЌ, рЃБрЃЏрЃ»рЃЮрЃЉрЃћрЃАрЃўрЃљ рЃЌрЃБ рЃДрЃЋрЃћрЃџрЃљрЃюрЃљрЃўрЃа рЃерЃћрЃАрЃљрЃФрЃџрЃћрЃЉрЃџрЃЮрЃЉрЃљрЃА рЃарЃўрЃфрЃ«рЃЋрЃљрЃЊ рЃЕрЃљрЃЋрЃЌрЃЋрЃџрЃўрЃЌ. рЃљрЃюрЃБ, рЃЊрЃљрЃЋрЃБрЃерЃЋрЃљрЃЌ рЃЏрЃЮрЃфрЃћрЃЏрЃБрЃџрЃўрЃљ рЃћрЃарЃЌрЃў рЃЉрЃљрЃўрЃбрЃў(рЃарЃЋрЃљ рЃЉрЃўрЃбрЃў, рЃљрЃюрЃБ рЃарЃЋрЃљ рЃћрЃџрЃћрЃЦрЃбрЃарЃЮрЃюрЃўрЃА рЃЕрЃљрЃгрЃћрЃарЃўрЃА рЃАрЃљрЃерЃБрЃљрЃџрЃћрЃЉрЃљ), рЃЕрЃЋрЃћрЃю рЃерЃћрЃњрЃЋрЃўрЃФрЃџрЃўрЃљ рЃЊрЃљрЃЋрЃўрЃгрЃДрЃЮрЃЌ `0000 0000`-рЃЊрЃљрЃю рЃЊрЃљ рЃљрЃЋрЃўрЃЊрЃћрЃЌ `1111 1111`-рЃЏрЃЊрЃћ. рЃЏрЃћрЃбрЃА рЃцрЃўрЃќрЃўрЃЎрЃБрЃарЃљрЃЊ рЃЋрЃћрЃа рЃњрЃљрЃЏрЃЮрЃЋрЃАрЃљрЃ«рЃљрЃЋрЃЌ, рЃарЃљрЃЊрЃњрЃљрЃю рЃЏрЃ«рЃЮрЃџрЃЮрЃЊ рЃарЃЋрЃљ рЃЉрЃўрЃбрЃўрЃА рЃњрЃљрЃЏрЃЮрЃДрЃћрЃюрЃћрЃЉрЃўрЃА рЃБрЃцрЃџрЃћрЃЉрЃљ рЃњрЃЋрЃљрЃЦрЃЋрЃА рЃљрЃЏ рЃерЃћрЃЏрЃЌрЃ«рЃЋрЃћрЃЋрЃљрЃерЃў. рЃљрЃАрЃћ, рЃарЃЮрЃЏ рЃЏрЃћрЃ«рЃАрЃўрЃћрЃарЃћрЃЉрЃўрЃА рЃЊрЃљрЃАрЃљрЃќрЃЮрЃњрЃљрЃЊ, `0000 0000`-рЃф рЃњрЃљрЃЏрЃЮрЃўрЃДрЃћрЃюрЃћрЃЉрЃљ рЃљрЃЌрЃЋрЃџрЃўрЃАрЃЌрЃЋрЃўрЃА.

рЃЏрЃГрЃўрЃарЃЊрЃћрЃЉрЃљ рЃўрЃАрЃћрЃЌрЃў рЃЎрЃЮрЃЊрЃўрЃА рЃЊрЃљрЃгрЃћрЃарЃљ, рЃарЃЮрЃЏрЃћрЃџрЃўрЃф `argv[1]`-рЃА рЃЊрЃљрЃљрЃДрЃћрЃюрЃћрЃЉрЃА рЃАрЃћрЃарЃЋрЃћрЃарЃўрЃА IP рЃЏрЃўрЃАрЃљрЃЏрЃљрЃарЃЌрЃљрЃЊ, рЃ«рЃЮрЃџрЃЮ `argv[2]`-рЃА рЃАрЃћрЃарЃЋрЃћрЃарЃўрЃА рЃърЃЮрЃарЃбрЃљрЃЊ.

> **­ЪЊЮ рЃАрЃљрЃўрЃюрЃбрЃћрЃарЃћрЃАрЃЮ рЃцрЃљрЃЦрЃбрЃў:**  
> `char* argv[]` рЃАрЃљрЃўрЃюрЃбрЃћрЃарЃћрЃАрЃЮ рЃЎрЃЮрЃюрЃфрЃћрЃцрЃфрЃўрЃљрЃљ. рЃерЃћрЃАрЃљрЃФрЃџрЃћрЃЉрЃћрЃџрЃўрЃљ `int main(int argc, char* argv[])` рЃцрЃБрЃюрЃЦрЃфрЃўрЃўрЃА рЃљрЃгрЃДрЃЮрЃЉрЃљ, рЃАрЃљрЃЊрЃљрЃф `argc` рЃљрЃарЃњрЃБрЃЏрЃћрЃюрЃбрЃћрЃЉрЃўрЃА рЃарЃљрЃЮрЃЊрЃћрЃюрЃЮрЃЉрЃљ, рЃ«рЃЮрЃџрЃЮ `argv[]` рЃљрЃарЃњрЃБрЃЏрЃћрЃюрЃбрЃћрЃЉрЃўрЃА рЃЊрЃљрЃЏрЃЎрЃљрЃЋрЃћрЃЉрЃћрЃџрЃў рЃЏрЃљрЃАрЃўрЃЋрЃў рЃўрЃЦрЃюрЃћрЃЉрЃљ. рЃљрЃАрЃћ, рЃерЃћрЃњрЃЋрЃўрЃФрЃџрЃўрЃљ рЃбрЃћрЃарЃЏрЃўрЃюрЃљрЃџрЃўрЃЊрЃљрЃю рЃњрЃљрЃЊрЃљрЃЋрЃфрЃћрЃЌ рЃњрЃљрЃарЃЎрЃЋрЃћрЃБрЃџрЃў рЃљрЃарЃњрЃБрЃЏрЃћрЃюрЃбрЃћрЃЉрЃў рЃърЃарЃЮрЃњрЃарЃљрЃЏрЃљрЃА рЃЊрЃљ рЃЏрЃљрЃЌрЃЌрЃљрЃю рЃЋрЃўрЃЏрЃБрЃерЃљрЃЮрЃЌ. рЃЌрЃБрЃюрЃЊрЃљрЃф `nmap`-рЃўрЃА рЃЏрЃљрЃњрЃљрЃџрЃўрЃЌрЃерЃў, рЃарЃЮрЃЊрЃћрЃАрЃљрЃф рЃЋрЃгрЃћрЃарЃЌ `nmap -sC -sV -A scanme.nmap.org`, рЃљрЃЦ рЃДрЃЋрЃћрЃџрЃљ рЃбрЃћрЃЦрЃАрЃбрЃў рЃърЃљрЃарЃљрЃЏрЃћрЃбрЃарЃўрЃљ. рЃњрЃљрЃАрЃљрЃЌрЃЋрЃљрЃџрЃўрЃАрЃгрЃўрЃюрЃћрЃЉрЃћрЃџрЃўрЃљ рЃўрЃА рЃцрЃљрЃЦрЃбрЃў, рЃарЃЮрЃЏ рЃарЃўрЃфрЃ«рЃЋрЃћрЃЉрЃўрЃА рЃњрЃљрЃЊрЃљрЃфрЃћрЃЏрЃўрЃАрЃљрЃА рЃўрЃАрЃўрЃюрЃў рЃбрЃћрЃЦрЃАрЃбрЃљрЃЊ рЃљрЃдрЃўрЃЦрЃЏрЃћрЃЉрЃљ рЃЊрЃљ рЃЏрЃљрЃЌрЃў `int` рЃЏрЃЮрЃюрЃљрЃфрЃћрЃЏрЃЌрЃљ рЃбрЃўрЃърЃљрЃЊ рЃњрЃљрЃЊрЃљрЃЦрЃфрЃћрЃЋрЃўрЃАрЃљрЃЌрЃЋрЃўрЃА рЃАрЃљрЃГрЃўрЃарЃЮрЃљ `atoi()` рЃцрЃБрЃюрЃЦрЃфрЃўрЃўрЃА рЃњрЃљрЃЏрЃЮрЃДрЃћрЃюрЃћрЃЉрЃљ, рЃарЃЮрЃЏрЃћрЃџрЃўрЃф `#include <stdlib.h>`(C рЃЋрЃћрЃарЃАрЃўрЃљ) рЃљрЃю `#include <cstdlib>`(C++ рЃЋрЃћрЃарЃАрЃўрЃљ) рЃЉрЃўрЃЉрЃџрЃўрЃЮрЃЌрЃћрЃЎрЃљрЃерЃўрЃљ рЃњрЃљрЃгрЃћрЃарЃўрЃџрЃў.

## рЃЎрЃџрЃўрЃћрЃюрЃбрЃўрЃА рЃЏрЃЌрЃљрЃЋрЃљрЃарЃў рЃџрЃЮрЃњрЃўрЃЎрЃљ

рЃЎрЃџрЃўрЃћрЃюрЃбрЃўрЃА рЃЏрЃЌрЃљрЃЋрЃљрЃарЃў рЃџрЃЮрЃњрЃўрЃЎрЃљ рЃЏрЃЊрЃњрЃЮрЃЏрЃљрЃарЃћрЃЮрЃЉрЃА рЃўрЃЏрЃљрЃерЃў, рЃарЃЮрЃЏ рЃЎрЃџрЃўрЃћрЃюрЃбрЃЏрЃљ рЃБрЃюрЃЊрЃљ рЃюрЃљрЃ«рЃЮрЃА рЃљрЃарЃўрЃА рЃЌрЃБ рЃљрЃарЃљ `argc` `3`-рЃќрЃћ рЃюрЃљрЃЎрЃџрЃћрЃЉрЃў. рЃЌрЃБ рЃљрЃАрЃћрЃљ, рЃЏрЃљрЃерЃўрЃю рЃЎрЃЮрЃЊрЃў рЃњрЃљрЃЏрЃЮрЃўрЃбрЃљрЃюрЃА рЃбрЃћрЃЦрЃАрЃбрЃА:

	[USAGE]: argv[0] <IPv4> <PORT> <UserName>

`argv[0]`-рЃўрЃА рЃљрЃЊрЃњрЃўрЃџрЃќрЃћ, рЃЏрЃўрЃАрЃў рЃЏрЃюрЃўрЃерЃЋрЃюрЃћрЃџрЃЮрЃЉрЃљ рЃўрЃЦрЃюрЃћрЃЉрЃљ.

рЃљрЃЏ рЃћрЃбрЃљрЃърЃќрЃћ, `client.cpp` рЃцрЃљрЃўрЃџрЃў рЃљрЃАрЃћ рЃњрЃљрЃЏрЃЮрЃўрЃДрЃБрЃарЃћрЃЉрЃљ:

```cpp
#include <stdio.h>
#include <stdlib.h>

#include <sys/socket.h>
#include <sys/types.h>
#include <arpa/inet.h>

#include <thread>

#include "client.hpp"

int main(int argc, char* argv[]){
    if(argc < 3){
        char local_message_buffer[LOG_MESSAGE_BUFFER_SIZE];
        sprintf(local_message_buffer, "%s%s <IPv4> <PORT> <UserName>\n", CLIENT_USAGE, argv[0]);

        printf(local_message_buffer);
        return 1;
    }

    int client_socket = socket(AF_INET, SOCK_STREAM, 0);
    sockaddr_in server_address;

    server_address.sin_family = AF_INET;
    server_address.sin_port = htons(atoi(argv[2]));
    server_address.sin_addr.s_addr = inet_addr(argv[1]);
}
```

рЃљрЃ«рЃџрЃљ рЃЊрЃарЃЮ рЃЏрЃЮрЃЋрЃўрЃЊрЃљ рЃарЃљрЃдрЃљрЃф-рЃарЃљрЃдрЃљрЃфрЃћрЃЉрЃўрЃА рЃњрЃљрЃЊрЃљрЃЏрЃЮрЃгрЃЏрЃћрЃЉрЃўрЃАрЃљрЃЌрЃЋрЃўрЃА рЃАрЃљрЃГрЃўрЃарЃЮ рЃџрЃЮрЃњрЃўрЃЎрЃљ рЃЕрЃљрЃЋрЃљрЃерЃћрЃюрЃЮ рЃЎрЃЮрЃЊрЃерЃў. рЃљрЃюрЃБ, рЃЏрЃБрЃерЃљрЃЮрЃЉрЃА рЃЌрЃБ рЃљрЃарЃљ рЃАрЃЮрЃЎрЃћрЃбрЃў рЃЊрЃљ рЃерЃћрЃАрЃљрЃФрЃџрЃћрЃЉрЃћрЃџрЃўрЃљ рЃЌрЃБ рЃљрЃарЃљ рЃЎрЃљрЃЋрЃерЃўрЃарЃќрЃћ рЃњрЃљрЃАрЃЋрЃџрЃљ. рЃњрЃљрЃарЃЎрЃЋрЃћрЃБрЃџрЃў рЃџрЃЮрЃњрЃўрЃЎрЃўрЃА рЃЊрЃљрЃЏрЃљрЃбрЃћрЃЉрЃўрЃА рЃерЃћрЃЏрЃЊрЃћрЃњ, `client.cpp` рЃцрЃљрЃўрЃџрЃў рЃљрЃАрЃћ рЃњрЃљрЃЏрЃЮрЃўрЃДрЃБрЃарЃћрЃЉрЃљ:

```cpp
#include <stdio.h>
#include <stdlib.h>

#include <sys/socket.h>
#include <sys/types.h>
#include <arpa/inet.h>

#include <unistd.h>

#include <thread>

#include "client.hpp"

int main(int argc, char* argv[]){
    if(argc < 3){
        char local_message_buffer[LOG_MESSAGE_BUFFER_SIZE];
        sprintf(local_message_buffer, "%s%s <IPv4> <PORT> <UserName>\n", CLIENT_USAGE, argv[0]);

        printf(local_message_buffer);
        return 1;
    }

    int client_socket = socket(AF_INET, SOCK_STREAM, 0);

    if(client_socket < 0){
        Log((char*)"Unable to define socket", 2);
        return 1;
    }

    sockaddr_in server_address;
    socklen_t szof_server_address = sizeof(server_address);

    server_address.sin_family = AF_INET;
    server_address.sin_port = htons(atoi(argv[2]));
    server_address.sin_addr.s_addr = inet_addr(argv[1]);

    if(connect(client_socket, reinterpret_cast<sockaddr*>(&server_address), szof_server_address) < 0){
        Log((char*)"Unable to connect to the server", 1);
        close(client_socket);
        return 1;
    }

    char username_buffer[USERNAME_BUFFER_SIZE];
    sprintf(username_buffer, "%s", argv[3]);

    send(client_socket, username_buffer, USERNAME_BUFFER_SIZE, 0);
}
```

`<unistd.h>` рЃЉрЃўрЃЉрЃџрЃўрЃЮрЃЌрЃћрЃЎрЃљ `close();` рЃцрЃБрЃюрЃЦрЃфрЃўрЃўрЃАрЃЌрЃЋрЃўрЃАрЃљрЃљ рЃерЃћрЃЏрЃЮрЃбрЃљрЃюрЃўрЃџрЃў. рЃљрЃ«рЃџрЃљ рЃДрЃЋрЃћрЃџрЃљрЃќрЃћ рЃЏрЃЌрЃљрЃЋрЃљрЃарЃў, рЃгрЃарЃћрЃЊрЃћрЃЉрЃўрЃА рЃерЃћрЃЦрЃЏрЃюрЃљрЃљ.

рЃћрЃА рЃЮрЃарЃў рЃцрЃБрЃюрЃЦрЃфрЃўрЃљрЃљ `client.hpp` рЃцрЃљрЃўрЃџрЃерЃў:
```cpp
void ReadFromServer(int client_socket){
    while(true == true){
        char message_buffer[MESSAGE_BUFFER_SIZE];

        int received_bytes = recv(client_socket, message_buffer, MESSAGE_BUFFER_SIZE - 1, 0);

        if(received_bytes < 0){
            Log((char*)"Unable to receive message from the server", 1);
        }
        else if(received_bytes == 0){
            Log((char*)"Disconnected from the server(Lost connection)", 2);
            close(client_socket);
            break;
        }
        else{
            message_buffer[received_bytes] = '\0';
        }
    }
}

void SendToServer(int client_socket, char* message_to_be_sent){
    int result = send(client_socket, message_to_be_sent, strlen(message_to_be_sent), 0);

    if(result < 0){
        Log((char*)"Sending message to the server has failed", 2);
    }
    else if(result == 0){
        Log((char*)"Server closed the connection", 1);
        close(client_socket);
        return;
    }
    else{
        Log((char*)"Message sent successfully", 0);
    }
}
```

рЃЮрЃарЃў рЃгрЃарЃћрЃЊрЃў рЃБрЃюрЃЊрЃљ рЃњрЃљрЃЋрЃљрЃЎрЃћрЃЌрЃЮ рЃљрЃ«рЃџрЃљ `client.cpp` рЃцрЃљрЃўрЃџрЃерЃў рЃЊрЃљ рЃћрЃА рЃцрЃБрЃюрЃЦрЃфрЃўрЃћрЃЉрЃў рЃњрЃљрЃЊрЃљрЃЋрЃфрЃћ рЃљрЃарЃњрЃБрЃЏрЃћрЃюрЃбрЃћрЃЉрЃљрЃЊ, рЃЏрЃљрЃњрЃарЃљрЃЏ рЃљрЃЏ рЃДрЃЋрЃћрЃџрЃљрЃцрЃћрЃарЃА рЃЋрЃћрЃа рЃњрЃљрЃЋрЃљрЃЎрЃћрЃЌрЃћрЃЉ рЃАрЃљрЃюрЃљрЃЏ `ncurses.h` рЃЉрЃўрЃЉрЃџрЃўрЃЮрЃЌрЃћрЃЎрЃўрЃЌ TUI-рЃА рЃљрЃа рЃљрЃЋрЃљрЃгрЃДрЃЮрЃЉ, рЃарЃЮрЃЏ рЃЏрЃЮрЃЏрЃ«рЃЏрЃљрЃарЃћрЃЉрЃћрЃџрЃА рЃўрЃюрЃцрЃЮрЃарЃЏрЃљрЃфрЃўрЃўрЃА рЃерЃћрЃДрЃЋрЃљрЃюрЃўрЃА рЃАрЃљрЃерЃБрЃљрЃџрЃћрЃЉрЃљ рЃ░рЃЦрЃЮрЃюрЃЊрЃћрЃА.

## рЃАрЃљрЃЉрЃЮрЃџрЃЮрЃЮ рЃЎрЃЮрЃЏрЃърЃўрЃџрЃљрЃфрЃўрЃљ

рЃарЃЮрЃЊрЃћрЃАрЃљрЃф рЃЎрЃЮрЃЊрЃў рЃЎрЃЮрЃЏрЃърЃўрЃџрЃљрЃбрЃЮрЃарЃА рЃњрЃљрЃЊрЃљрЃЋрЃљрЃгрЃЮрЃЊрЃћ, рЃљрЃАрЃћрЃЌрЃў рЃњрЃљрЃцрЃарЃЌрЃ«рЃўрЃџрЃћрЃЉрЃљ рЃЊрЃљрЃЏрЃўрЃгрЃћрЃарЃљ:
![1.png](https://44b4c0.github.io/assets/img/posts/4/1.png)

рЃќрЃЮрЃњрЃљрЃЊрЃљрЃЊ рЃБрЃЏрЃ»рЃЮрЃЉрЃћрЃАрЃўрЃљ рЃЌрЃБ рЃДрЃЮрЃЋрЃћрЃџрЃњрЃЋрЃљрЃа рЃњрЃљрЃцрЃарЃЌрЃ«рЃўрЃџрЃћрЃЉрЃљрЃА рЃЏрЃЮрЃЋрЃўрЃерЃЮрЃарЃћрЃЉ рЃЌрЃљрЃЋрЃўрЃЊрЃљрЃю рЃЎрЃЮрЃЏрЃърЃўрЃџрЃљрЃфрЃўрЃўрЃА рЃЊрЃарЃЮрЃА, рЃарЃљрЃЊрЃњрЃљрЃю рЃћрЃА рЃДрЃЋрЃћрЃџрЃљрЃцрЃћрЃарЃў рЃЏрЃЮрЃЏрЃљрЃЋрЃљрЃџрЃерЃў рЃерЃћрЃўрЃФрЃџрЃћрЃЉрЃљ рЃЊрЃўрЃЊ рЃърЃарЃЮрЃЉрЃџрЃћрЃЏрЃљрЃЊ рЃњрЃљрЃЊрЃљрЃўрЃЦрЃфрЃћрЃА.

рЃћрЃарЃЌрЃЏрЃљ рЃњрЃљрЃцрЃарЃЌрЃ«рЃўрЃџрЃћрЃЉрЃљрЃЏрЃљрЃф рЃЎрЃў рЃерЃћрЃўрЃФрЃџрЃћрЃЉрЃљ рЃАрЃљрЃЦрЃЏрЃћ рЃерЃћрЃБрЃЦрЃЏрЃюрЃљрЃА рЃЎрЃЮрЃЊрЃўрЃА рЃЏрЃБрЃерЃљрЃЮрЃЉрЃљрЃА. рЃћрЃА рЃњрЃљрЃцрЃарЃЌрЃ«рЃўрЃџрЃћрЃЉрЃљ рЃљрЃЏрЃЉрЃЮрЃЉрЃА, рЃарЃЮрЃЏ рЃБрЃЏрЃ»рЃЮрЃЉрЃћрЃАрЃўрЃљ `printf();` рЃцрЃБрЃюрЃЦрЃфрЃўрЃљрЃА рЃцрЃЮрЃарЃЏрЃљрЃбрЃўрЃЌ рЃњрЃљрЃЊрЃљрЃЋрЃфрЃћрЃЌ рЃфрЃЋрЃџрЃљрЃЊрЃў:

	printf("%s", local_message_buffer);

рЃљрЃЏрЃўрЃА рЃњрЃљрЃАрЃгрЃЮрЃарЃћрЃЉрЃўрЃА рЃерЃћрЃЏрЃЊрЃћрЃњ, рЃўрЃАрЃћрЃЋ рЃњрЃљрЃЊрЃљрЃЋрЃљрЃЎрЃЮрЃЏрЃърЃўрЃџрЃўрЃарЃћ рЃЎрЃЮрЃЊрЃў рЃЊрЃљ рЃљрЃЏрЃЪрЃљрЃЏрЃљрЃЊ рЃДрЃЋрЃћрЃџрЃљрЃцрЃћрЃарЃЏрЃљ рЃЎрЃљрЃарЃњрЃљрЃЊ рЃўрЃЏрЃБрЃерЃљрЃЋрЃљ(рЃљрЃАрЃћрЃЋрЃћ рЃЏрЃЮрЃЏрЃўрЃгрЃўрЃљ `-pthread` flag-рЃўрЃА рЃЊрЃљрЃЏрЃљрЃбрЃћрЃЉрЃљ рЃЎрЃЮрЃЏрЃърЃўрЃџрЃљрЃбрЃЮрЃарЃўрЃА рЃЮрЃцрЃфрЃўрЃћрЃЉрЃерЃў, рЃАрЃбрЃљрЃбрЃўрЃЎрЃБрЃарЃў рЃЊрЃљрЃџрЃўрЃюрЃЎрЃЋрЃўрЃАрЃЌрЃЋрЃўрЃА).
